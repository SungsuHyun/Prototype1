@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");

:root {
  color-scheme: dark;
  --bg: #000000;
  --device-frame: #121212;
  --text: #ffffff;
  --muted: #eeeeee;
  --search-bg: rgba(255, 255, 255, 0.25);
  --icon-bg: #444;
  --panel-bg: rgba(30, 30, 30, 0.4);
  --panel-border: rgba(255, 255, 255, 0.08);
  --accent: #3e8bff;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  user-select: none;
}

body {
  background: #f0f2f5;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  color: var(--text);
}

.device {
  width: 380px;
  height: 800px;
  background-color: #2b2c35;
  border-radius: 40px;
  border: 8px solid #000000;
  box-shadow: 0 0 0 2px #333, 0 20px 50px rgba(0,0,0,0.3);
  /* padding removed to allow full screen overlay */
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  z-index: 1;
}

/* Wallpaper Layer - Always Clear */
.wallpaper {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: url('./background.jpg') no-repeat center center;
    background-size: cover;
    z-index: -2;
}

.status-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 14px;
  font-weight: 600;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.1);
  padding: 16px 24px 10px; /* Padding added here instead of container */
  z-index: 10;
}

.status-icons {
  display: flex;
  gap: 8px;
  font-size: 12px;
}

.screen {
  flex: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  padding: 0 16px 16px; /* Padding for screen content */
}

/* --- Drawer (Rectangular Area) --- */
.drawer {
    position: absolute;
    bottom: 0; left: 0; right: 0;
    background: rgba(30, 30, 35, 0.5); /* Transparent glassy background */
    backdrop-filter: blur(30px) saturate(180%);
    -webkit-backdrop-filter: blur(30px) saturate(180%);
    border-radius: 32px 32px 0 0; /* Rounded top corners */
    display: flex;
    flex-direction: column;
    transition: height 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
    overflow: hidden;
    z-index: 20;
    height: 0; /* Initial State: Hidden */
    box-shadow: 0 -10px 30px rgba(0,0,0,0.2);
    /* border-top removed */
}

.drawer-search-bar {
    padding: 20px 16px 30px; /* Bottom padding for safe area */
    margin-top: auto; /* Push to bottom */
    width: 100%;
}

.search-bar {
  background: var(--search-bg);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  height: 52px;
  border-radius: 26px;
  display: flex;
  align-items: center;
  padding: 0 16px;
  gap: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.05);
}

.search-icon { color: #fff; font-size: 16px; opacity: 0.8; }
.search-input {
  flex: 1;
  background: transparent;
  border: none;
  color: #fff;
  font-size: 17px;
  outline: none;
  text-shadow: 0 1px 2px rgba(0,0,0,0.1);
}
.search-input::placeholder { color: rgba(255, 255, 255, 0.7); }
.search-actions { display: flex; gap: 16px; color: #fff; opacity: 0.8; }
.mic-btn, .menu-btn { background: none; border: none; color: #fff; font-size: 16px; cursor: pointer; padding: 4px; opacity: 0.9; }

/* Drawer States */
/* State 1: Search Only (1/4 Height) */
.device.state-portal .drawer {
    height: 25%;
}

/* State 2/3: Full Height (Apps/Results) */
.device.state-apps .drawer,
.device.state-results .drawer {
    height: 100%; /* Full screen */
    border-radius: 0; /* No rounded corners */
}


/* App Grid Padding */
.app-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    row-gap: 24px;
    padding: 100px 16px 30px; /* Top padding for status bar area */
    overflow-y: auto;
    flex: 1; /* Take available space above search bar */
    align-content: start;
}

/* Results Content Padding */
.content {
    padding: 100px 16px 20px; /* Top padding for status bar area */
    display: flex;
    flex-direction: column;
    gap: 16px;
    overflow-y: auto;
    flex: 1;
}


/* --- App Icon Styles (Reused) --- */
.app-item { display: flex; flex-direction: column; align-items: center; gap: 6px; cursor: pointer; }
.app-icon-box {
    width: 62px; height: 62px; border-radius: 26px;
    display: flex; justify-content: center; align-items: center;
    font-size: 30px; color: white; background: #fff;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
.app-label { font-size: 13px; color: #fff; text-align: center; font-weight: 500; text-shadow: 0 1px 3px rgba(0,0,0,0.4); }

.gallery { background: #fff; color: #e84f5a; font-size: 32px; }
.gallery i {
    transform: rotate(45deg);
    background: linear-gradient(45deg, #ff4b4b, #ff9068);
    background-clip: text; -webkit-background-clip: text;
    -webkit-text-fill-color: transparent; color: transparent;
}
.store { background: linear-gradient(45deg, #ff4081, #ff80ab); font-size: 26px; }
.contacts { background: #ff8e3e; font-size: 26px; }
.calculator { background: #474a4d; color: #47cba8; font-size: 26px; }
.messages { background: #3095f2; font-size: 26px; }
.clock { background: #eee; color: #333; font-size: 28px; }
.calendar { background: #fff; color: #000; font-size: 24px; position: relative; }
.calendar::before { content: "FRI"; position: absolute; top: 12px; font-size: 9px; font-weight: 700; color: #777; }
.settings { background: #6683b5; font-size: 26px; }
.camera { background: #f5f5f5; color: #333; font-size: 28px; }
.weather { background: linear-gradient(180deg, #64b5f6 0%, #1976d2 100%); }
.bixby { background: linear-gradient(135deg, #304ffe 0%, #6200ea 100%); color: #fff; font-family: serif; font-style: italic; font-weight: 700; font-size: 36px; }
.bixby-logo { display: block; line-height: 1; }
.internet { background: linear-gradient(135deg, #7c4dff, #651fff); font-size: 30px; }

/* Panels */
.panel {
  background: var(--panel-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 24px;
  display: flex; flex-direction: column; overflow: hidden;
}
.left-panel { flex: 1; }
.right-panel { flex: 0 0 auto; }
.panel-header { padding: 12px 16px 4px; border-bottom: none; display: flex; justify-content: space-between; align-items: center; }
.panel-header h2 { font-size: 15px; font-weight: 600; }

/* Gen UI Header with Video */
.gen-ui-header-content {
    display: flex;
    align-items: center;
    gap: 8px;
}

.ai-icon-video-small {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    object-fit: cover;
}
.badge { font-size: 11px; padding: 4px 8px; border-radius: 12px; background: #333; color: #aaa; }
.panel-body { padding: 16px; flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; }

/* Right Panel (Icons) */
.right-panel .panel-body { display: flex; flex-direction: row; gap: 32px; justify-content: center; align-items: center; padding: 12px 16px 20px; }
.app-row-icon-only { width: 52px; height: 52px; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: transform 0.2s; }
.icon-container { width: 56px; height: 56px; border-radius: 22px; display: flex; justify-content: center; align-items: center; font-size: 26px; color: white; background: #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
.icon-kakao { background: #FEE500; color: #3C1E1E; font-size: 28px; }
.icon-samsung-msg { background: #3095f2; }
.icon-calendar { background: #fff; color: #000; position: relative; }
.icon-calendar::before { content: "3"; font-weight: 700; font-size: 22px; margin-top: 4px; }

/* Gen UI Styles */
.card { background: rgba(42, 42, 42, 0.4); padding: 14px; border-radius: 16px; display: flex; flex-direction: column; gap: 8px; backdrop-filter: blur(10px); }
.card-title { font-size: 14px; font-weight: 600; color: #fff; }
.card-desc { font-size: 13px; color: #ccc; line-height: 1.4; }
.list-item { display: flex; justify-content: space-between; background: rgba(51, 51, 51, 0.4); padding: 10px 12px; border-radius: 10px; font-size: 13px; margin-top: 4px; }
.gen-ui-active { box-shadow: 0 0 0 1px rgba(62, 139, 255, 0.5), 0 0 20px rgba(62, 139, 255, 0.15); border: 1px solid rgba(62, 139, 255, 0.3); transition: all 0.5s ease; }
.skeleton-line { height: 12px; background: rgba(255,255,255,0.1); border-radius: 6px; margin-bottom: 8px; animation: pulse 1.5s infinite; }
.skeleton-line.w-80 { width: 80%; }
.skeleton-line.w-60 { width: 60%; }
@keyframes pulse { 0% { opacity: 0.3; } 50% { opacity: 0.6; } 100% { opacity: 0.3; } }
.ai-active { color: #81c995; background: rgba(129, 201, 149, 0.1); }
.ai-warn { color: #fdd663; background: rgba(253, 214, 99, 0.1); }

/* AI Suggestion (State 1) */
.search-only-content {
    position: absolute;
    top: 25%; /* Moved up from 40% */
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px; /* Reduced gap from 30px */
    animation: fadeIn 0.5s ease;
}

.drawer-hint {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    opacity: 0.8;
}

.drawer-hint .hint-bar {
    width: 36px;
    height: 4px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 2px;
    box-shadow: none; /* Flatter look inside drawer */
}

.drawer-hint span {
    color: rgba(255, 255, 255, 0.8);
    font-size: 11px;
    font-weight: 500;
}

.ai-suggestion {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
}

.ai-icon-video {
    width: 24px;
    height: 24px;
    border-radius: 50%; /* Optional: if video needs rounded corners */
    object-fit: cover;
}

.ai-suggestion span {
    color: rgba(255, 255, 255, 0.95);
    font-size: 15px;
    font-weight: 500;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

@keyframes fadeIn {
    from { opacity: 0; transform: translate(-50%, -40%); }
    to { opacity: 1; transform: translate(-50%, -50%); }
}

/* Touch Area for Home */
.touch-area {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: 15; /* Above wallpaper/status bar, below drawer */
}

/* Swipe Hint */
.swipe-hint {
    position: absolute;
    bottom: 24px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    z-index: 18; /* Above touch area, below drawer */
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.device.state-home .swipe-hint {
    opacity: 1;
    animation: bounceHint 2s infinite;
}

.hint-bar {
    width: 36px;
    height: 4px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 2px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.swipe-hint span {
    color: rgba(255, 255, 255, 0.9);
    font-size: 11px;
    font-weight: 500;
    text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    letter-spacing: 0.5px;
}

@keyframes bounceHint {
    0%, 100% { transform: translate(-50%, 0); opacity: 0.8; }
    50% { transform: translate(-50%, -6px); opacity: 1; }
}

/* Utils */
.hidden { display: none !important; }
